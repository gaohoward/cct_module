schema_version: 1

name: jboss.container.jolokia.bash
version: '1.0'
description: ^
  Provides support for configuring Jolokia.  Basic usage is
  opts="$JBOSS_CONTAINER_JOLOKIA_MODULE/jolokia-opts"

labels:
- name: io.fabric8.s2i.version.jolokia
  value: "1.6.2"

envs:
- name: JBOSS_CONTAINER_JOLOKIA_MODULE
  value: /opt/jboss/container/jolokia
# variable overrides/defaults
- name: JOLOKIA_VERSION
  value: "1.6.2"
- name: AB_JOLOKIA_PASSWORD_RANDOM
  value: "true"
- name: AB_JOLOKIA_AUTH_OPENSHIFT
  value: "true"
- name: AB_JOLOKIA_HTTPS
  value: "true"

ports:
- value: 8778

execute:
- script: configure.sh
- script: backward_compatibility.sh

artifacts:
- name: jolokia-jvm
  target: jolokia-jvm-1.6.2-agent.jar
  url: https://repo1.maven.org/maven2/org/jolokia/jolokia-jvm/1.6.2/jolokia-jvm-1.6.2.jar
  md5: 10a426586c1eb8960ec9b070b35ad32c

modules:
  install:
  - name: jboss.container.jolokia.api
